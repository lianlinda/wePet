<!--pages/shoppingBag/shoppingBag.wxml-->
<scroll-view class='m-bag' scroll-y>
  <!--网速不好-->
  <view wx:if="{{!netOK}}" class='h100 bg-white error-c'>
   <image class="empty" src="/static/img/bag/netError.png"/>
    <view class='tc fs14 text-gray'>网络不太顺畅，请刷新试试</view>
    <button class='reload-button'>重新加载</button>
  </view>
  <view wx:else>
    <!--没有登录-->
    <view wx:if="{{!isLogin}}" class='bg-white ptb100'>
      <image class="empty" src="/static/img/bag/empty.png"/>
      <view class='tc fs14 text-gray'>登录后将显示您之前加入的商品</view>
      <button class='login-button btn'>去登录</button>
    </view>
    <view wx:else>
      <!--购物车是空的-->
      <view wx:if="{{isEmpty}}" class='bg-white ptb100'>
        <image class="empty" src="/static/img/bag/empty.png"/>
        <view class='tc fs14 text-gray'>购物车空空荡荡，快去商城逛逛吧</view>
        <button class='login-button btn'>去首页</button>
      </view>
      <view wx:else>
        <!--有东西-->
        <view class="fs14 mb20 bg-white top">
          <text class="iconfont icon-dizhi text-gray"/>
          <text class="text-gray ml10">地址栏</text>
          <text class="fr">编辑商品</text>
        </view>
        <view class='mb20 fs14 shop-c' wx:for="{{goods}}" wx:key="id" wx:for-item="shop">
          <view class="clearfix pb20 pr10">
            <view class="fl goods-wrap">
              <radio color='{{radioColor}}'/>
              <image class="shop-icon" src="{{shop.shopIcon}}" wx:if="{{shop.shopIcon}}"/>
              <text class="iconfont icon-dianpu" wx:else/>
              <text class="ml10">{{shop.shopName}}</text>
              <text class="iconfont icon-xuanze text-gray"/>
            </view>
            <text class='fr' wx:if="{{shop.coupon}}">领券</text>
          </view>
          <view class="bg-white goods-c">
            <view wx:for="{{shop.list}}" wx:key="goodsId">
              <view class='goods-wrap pb20'>
                <radio color='{{radioColor}}'/>
                <image class='recommend-image' src="{{item.goodsImage}}"/>
                <view class='goods-right'>
                  <view class='two-line-text'>{{item.goodsName}}</view>
                  <view wx:if="{{item.goodStand}}" class="stand-s">{{item.goodStand}}</view>
                  <view>
                    <text class='text-red'>¥{{item.goodsPrice}}</text>
                    <van-stepper class="fr" value="{{ item.goodsNum }}"/>
                  </view>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
    <!--推荐商品-->
    <view class='recommend-c'>
      <view class='tc fs14'>
        猜你喜欢
      </view>
      <view class='recommend-goods-container fs14'>
        <view class='recommend-item bg-white' wx:for="{{recommendGoods}}" wx:key="goodsId" bindtap='goGoodsDetail' data-goods-id="{{item.goodsId}}">
          <image class='recommend-image' src="{{item.image}}"/>
          <view class='two-line-text'>{{item.name}}</view>
          <view class='text-red text-center'>¥{{item.price}}</view>
        </view>
      </view>
    </view>
    <!--底部合计-->
    <view class='bottom-c' wx:if="{{isLogin && !isEmpty}}">
      <view class='bottom-left'>
        <radio color='{{radioColor}}'/><label>全选</label>
        <text class='fr'>合计：{{sumMoney}}</text>
      </view>
      <button class='btn pay'>结算</button>
    </view>
  </view>
</scroll-view>
